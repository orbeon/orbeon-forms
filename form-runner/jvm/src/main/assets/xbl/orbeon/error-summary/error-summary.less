// Copyright (C) 2014 Orbeon, Inc.
//
// This program is free software; you can redistribute it and/or modify it under the terms of the
// GNU Lesser General Public License as published by the Free Software Foundation; either version
// 2.1 of the License, or (at your option) any later version.
//
// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;
// without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
// See the GNU Lesser General Public License for more details.
//
// The full text of the license is available at http://www.gnu.org/copyleft/lesser.html

@import (reference)  "../../../apps/fr/style/form-runner-common";

.orbeon .xbl-fr-error-summary {

    clear: both;
    width: 100%;
    padding: 0;
    margin-top: 4px; // margin needed so that error for reCAPTCHA doesn't touch

    .fr-error-summary-body {
        display: block;
        padding: 0;
    }

    .fr-error-title {
        display: block;
        margin: 0;
        box-sizing: border-box;
        width: 100%;
        padding: 5px 10px;
        color: white;
    }

    .fr-show-more-errors {
        margin-right: 10px;
    }

    // Multiple levels can be mixed so make sure the strongest wins
    .fr-level-info    > .fr-error-title { background-color: @info; }
    .fr-level-warning > .fr-error-title { background-color: @warning; }
    .fr-level-error   > .fr-error-title { background-color: @error; }

    .fr-error-group {

        margin: 5px 0;

        .xforms-mediatype-text-html, .xforms-mediatype-text-html .xforms-output-output {
            display: inline;
        }

        &> li {
            border: 2px solid;
            padding: 10px;
            margin-bottom: 5px;
            list-style-position: inside;
            background-color: white;

            // Multiple levels can be mixed so make sure the strongest wins
            &.fr-level-info    { border-color: @info; }
            &.fr-level-warning { border-color: @warning; }
            &.fr-level-error   { border-color: @error; }
        }

        .fr-error-number {
            display: none;
        }

        .fr-error-link {
            display: inline;
        }

        .fr-error-label, .fr-error-alert {
            text-decoration: underline;
        }

        .fr-error-label:not(:empty):after {
            content: ": "
        }

        .fr-error-alert {
            ul {
                list-style-type: square;
                margin-bottom: 0;
            }
        }

        // Make label and alert both the same color
        //
        .fr-level-info {
            .fr-error-label, .fr-error-alert {
                color: @info
            }
        }
        .fr-level-warning {
            .fr-error-label, .fr-error-alert {
                color: @warning
            }
        }
        .fr-level-error {
            .fr-error-label, .fr-error-alert {
                color: @error
            }
        }
    }
}