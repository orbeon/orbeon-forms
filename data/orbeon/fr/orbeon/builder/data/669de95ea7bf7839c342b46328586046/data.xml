<xh:html xmlns:xxf="http://orbeon.org/oxf/xml/xforms" xmlns:xxi="http://orbeon.org/oxf/xml/xinclude" xmlns:saxon="http://saxon.sf.net/" xmlns:fr="http://orbeon.org/oxf/xml/form-runner" xmlns:xf="http://www.w3.org/2002/xforms" xmlns:sql="http://orbeon.org/oxf/xml/sql" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xh="http://www.w3.org/1999/xhtml" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:exf="http://www.exforms.org/exf/1-0" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" fr:data-format-version="4.0.0">
    <xh:head>
        <xh:title>Global Library</xh:title>
        <xf:model xmlns:fb="http://orbeon.org/oxf/xml/form-builder" id="fr-form-model">
            <xf:instance id="fr-form-instance" xxf:index="id">
                <form>
                    <address>
                        <street-number/>
                        <street-name/>
                        <apt-suite/>
                        <city/>
                        <state/>
                        <zip/>
                    </address>
                </form>
            </xf:instance>
            <xf:bind id="fr-form-binds" ref="instance('fr-form-instance')">
                <xf:bind id="address-bind" ref="address" name="address">
                    <xf:bind id="street-number-bind" name="street-number" required="true()" xxf:whitespace="trim" ref="street-number">
                        <xf:constraint id="constraint-8-constraint" value="string() castable as xs:integer" level="warning" xxf:whitespace="trim"/>
                    </xf:bind>
                    <xf:bind id="street-name-bind" name="street-name" ref="street-name" required="true()" xxf:whitespace="trim"/>
                    <xf:bind id="apt-suite-bind" name="apt-suite" ref="apt-suite" xxf:whitespace="trim"/>
                    <xf:bind id="city-bind" name="city" ref="city" required="true()" xxf:whitespace="trim"/>
                    <xf:bind id="state-bind" name="state" ref="state" required="true()"/>
                    <xf:bind id="zip-bind" name="zip" required="true()" ref="zip" type="xs:integer" xxf:whitespace="trim"/>
                </xf:bind>
            </xf:bind>
            <xf:instance xxf:readonly="true" id="fr-form-metadata">
                <metadata>
                    <application-name>orbeon</application-name>
                    <form-name>library</form-name>
                    <title xml:lang="en">Global Library</title>
                    <description xml:lang="en">This special form contains the global Form Builder library of section templates accessible from all forms.</description>
                    <title xml:lang="fr">Bibliothèque globale</title>
                    <description xml:lang="fr">Ce formulaire spécial contient la bibliothèque global de Form Builder, avec les modèles de sections disponibles depuis tous les formulaires.</description>
                    <logo mediatype="" filename="" size=""/>
                </metadata>
            </xf:instance>
            <xf:instance id="fr-form-attachments">
                <attachments>
                    <css mediatype="text/css" filename="" size=""/>
                    <pdf mediatype="application/pdf" filename="" size=""/>
                </attachments>
            </xf:instance>
            <xf:instance id="fr-form-resources" xxf:readonly="false">
                <resources>
                    <resource xml:lang="en">
                        <address>
                            <label>US Address</label>
                            <help/>
                        </address>
                        <street-number>
                            <label>Street Number</label>
                            <hint/>
                            <alert>The street number is usually a number</alert>
                        </street-number>
                        <street-name>
                            <label>Street Name</label>
                            <hint/>
                            <help/>
                            <alert/>
                        </street-name>
                        <apt-suite>
                            <label>Apt/Suite</label>
                            <hint/>
                            <help/>
                            <alert/>
                        </apt-suite>
                        <city>
                            <label>City</label>
                            <hint/>
                            <help/>
                            <alert/>
                        </city>
                        <state>
                            <label>State</label>
                            <hint/>
                            <help/>
                            <alert/>
                        </state>
                        <zip>
                            <label>Zip</label>
                            <hint/>
                        </zip>
                    </resource>
                    <resource xml:lang="fr">
                        <address>
                            <label>Adresse US</label>
                            <help/>
                        </address>
                        <street-number>
                            <label>Numéro de rue</label>
                            <hint/>
                            <alert>Le numéro de rue est en général un nombre</alert>
                        </street-number>
                        <street-name>
                            <label>Nom de rue</label>
                            <hint/>
                            <help/>
                            <alert/>
                        </street-name>
                        <apt-suite>
                            <label>Appartement/suite</label>
                            <hint/>
                            <help/>
                            <alert/>
                        </apt-suite>
                        <city>
                            <label>Ville</label>
                            <hint/>
                            <help/>
                            <alert/>
                        </city>
                        <state>
                            <label>Etat</label>
                            <hint/>
                            <help/>
                            <alert/>
                        </state>
                        <zip>
                            <label>Code postal</label>
                            <hint/>
                        </zip>
                    </resource>
                </resources>
            </xf:instance>
        </xf:model>
    </xh:head>
    <xh:body>
        <fr:view xmlns:xbl="http://www.w3.org/ns/xbl" xmlns:p="http://www.orbeon.com/oxf/pipeline" xmlns:oxf="http://www.orbeon.com/oxf/processors">
            <fr:body xmlns:fb="http://orbeon.org/oxf/xml/form-builder">
                <fr:section id="address-section" bind="address-bind">
                    <xf:label ref="$form-resources/address/label"/>
                    <fr:grid columns="3" id="grid-1-grid">
                        <fr:c y="1" x="1" w="4">
                            <xf:input id="street-number-control" bind="street-number-bind">
                                <xf:label ref="$form-resources/street-number/label"/>
                                <xf:hint ref="$form-resources/street-number/hint"/>
                                <xf:alert ref="$form-resources/street-number/alert" validation="constraint-8-constraint"/>
                                <xf:alert ref="$fr-resources/detail/labels/alert"/>
                            </xf:input>
                        </fr:c>
                        <fr:c y="1" x="5" w="4">
                            <xf:input xmlns:pipeline="java:org.orbeon.oxf.processor.pipeline.PipelineFunctionLibrary" id="street-name-control" bind="street-name-bind">
                                <xf:label ref="$form-resources/street-name/label"/>
                                <xf:hint ref="$form-resources/street-name/hint"/>
                                <xf:alert ref="$fr-resources/detail/labels/alert"/>
                            </xf:input>
                        </fr:c>
                        <fr:c y="1" x="9" w="4">
                            <xf:input xmlns:pipeline="java:org.orbeon.oxf.processor.pipeline.PipelineFunctionLibrary" id="apt-suite-control" bind="apt-suite-bind">
                                <xf:label ref="$form-resources/apt-suite/label"/>
                                <xf:hint ref="$form-resources/apt-suite/hint"/>
                                <xf:alert ref="$fr-resources/detail/labels/alert"/>
                            </xf:input>
                        </fr:c>
                        <fr:c y="2" x="1" w="4">
                            <xf:input xmlns:pipeline="java:org.orbeon.oxf.processor.pipeline.PipelineFunctionLibrary" id="city-control" bind="city-bind">
                                <xf:label ref="$form-resources/city/label"/>
                                <xf:hint ref="$form-resources/city/hint"/>
                                <xf:alert ref="$fr-resources/detail/labels/alert"/>
                            </xf:input>
                        </fr:c>
                        <fr:c y="2" x="5" w="4">
                            <fr:us-state xmlns="http://orbeon.org/oxf/xml/form-builder" xmlns:pipeline="java:org.orbeon.oxf.processor.pipeline.PipelineFunctionLibrary" xmlns:xxbl="http://orbeon.org/oxf/xml/xbl" id="state-control" bind="state-bind">
                                <xf:label ref="$form-resources/state/label"/>
                                <xf:hint ref="$form-resources/state/hint"/>
                                <xf:alert ref="$fr-resources/detail/labels/alert"/>
                            </fr:us-state>
                        </fr:c>
                        <fr:c y="2" x="9" w="4">
                            <xf:input xmlns:pipeline="java:org.orbeon.oxf.processor.pipeline.PipelineFunctionLibrary" id="zip-control" bind="zip-bind">
                                <xf:label ref="$form-resources/zip/label"/>
                                <xf:hint ref="$form-resources/zip/hint"/>
                                <xf:alert ref="$fr-resources/detail/labels/alert"/>
                            </xf:input>
                        </fr:c>
                    </fr:grid>
                </fr:section>
            </fr:body>
        </fr:view>
    </xh:body>
</xh:html>