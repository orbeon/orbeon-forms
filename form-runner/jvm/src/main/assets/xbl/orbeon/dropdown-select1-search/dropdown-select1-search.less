// Copyright (C) 2019 Orbeon, Inc.
//
// This program is free software; you can redistribute it and/or modify it under the terms of the
// GNU Lesser General Public License as published by the Free Software Foundation; either version
// 2.1 of the License, or (at your option) any later version.
//
// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;
// without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
// See the GNU Lesser General Public License for more details.
//
// The full text of the license is available at http://www.gnu.org/copyleft/lesser.html
@import (reference)  "../../../apps/fr/style/form-runner-common";

.orbeon {
    .select2-container {
        ul                 { margin: initial }
        .select2-selection {
            // Select2 sets `line-height: 28px`, which is 2px too much, since the parent also
            // has a `line-height: 28px` and a `border: 1px`, which caused an irregularity in
            // the bottom part of the highlight on Safari
            .select2-selection__rendered {
                line-height: 26px;
                .select2-selection__placeholder {
                    color: @controlPlaceholderColor;
                }
            }
            .focusHighlight();
        }

        .select2-dropdown  {
            z-index: 9999999; // Dropdown to be always above everything else
            background-color: var(--orbeon-control-background-color);
            border: 1px solid var(--orbeon-control-border-color);
        }

        &.select2-container--default .select2-selection--single {
            .select2-selection__rendered {
                color: var(--orbeon-control-color);
            }
            background-color: var(--orbeon-control-background-color);
        }
    }

    // "x" button to clear the dropdown
    .select2-selection__clear {
        padding: 0 5px;    // Wider to be easier to activate
        top: 3px;          // For the highlight not to go over or under the dropdown border
        line-height: 20px; // Better alignment of the clear icon with the selection / arrow down icon
        color: #888;       // Use the same shade of grey as the selection / arrow down icon
        .focusHighlightGroup();
    }

    .fr-service-error .select2-container .select2-selection {
        background: repeating-linear-gradient(
          -45deg,
          @wellBackground,
          @wellBackground 5px,
          @inputBackground 5px,
          @inputBackground 10px
        );
    }
}