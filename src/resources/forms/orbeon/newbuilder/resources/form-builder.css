/**
 * Copyright (C) 2010 Orbeon, Inc.
 *
 * This program is free software; you can redistribute it and/or modify it under the terms of the
 * GNU Lesser General Public License as published by the Free Software Foundation; either version
 * 2.1 of the License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;
 * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
 * See the GNU Lesser General Public License for more details.
 *
 * The full text of the license is available at http://www.gnu.org/copyleft/lesser.html
 */

/* Overwrite definition in form-runner-orbeon.css if any */
html { overflow: hidden }

.xforms-select table { margin-bottom: 0 }

#fr-view fieldset, .xforms-dialog fieldset { border: 1px solid #CCCCCC; }

.fb-ie-warning { margin: 1em; padding: .5em; border: 4px solid #D00000; background-color: #FFF0F0 }

.fb-nowrap { white-space: nowrap }
.fb-xforms-disabled { display: none }
.fb-hide-alert .xforms-alert { display: none }

/* This is like the form runner's help image */
/*a.fb-edit-help-trigger img {*/
    /*vertical-align: -0.2em;*/
    /*display: inline;*/
    /*margin: 0 .5em 0 -1px;*//* move icon to the left a bit to align it better */
    /*padding: 0;*/
/*}*/

/* This is for the form builder title at the top */
h1.fr-form-title {
    clear: none;
    color: #004B92;
    float: left;
    /*font-size: 197%;*/
    /*font-style: normal;*/
    margin: 0 0 0 2em;
    padding: 0;
}

/* ***** Toolbox **************************************************************************************************** */

#fb-toolbox {
    position: static;
    left: 0;
    top: 0;
    height: 100%;
}

#fb-toolbox .fb-toolbox-inside {
    width: 100%;
    padding-bottom: 1.5em /* with Firefox and Safari, scrollable content appears otherwise clipped a little (because content gets out of the box?) */
}

#fb-toolbox .bd { background: url("../images/light-blue-gradient.png")
                  repeat-x #E8F2FF; padding: .5em; }                                /* Body background*/
#fb-toolbox .fb-tool { margin: 0 0 0 .7em }
#fb-toolbox .fb-tool .xforms-trigger button     {
    border: none; background: none; box-shadow: none;                               /* Remove button default styling */
    font-size: 85%;                                                                 /* Smaller text next icon */
}
#fb-toolbox .fb-tools .xforms-label             { display: block; margin: 1em 0 .5em 0; font-size: 93% }
#fb-toolbox button.xforms-trigger img { margin-right: .2em }

/* Cut / Copy / Paste */
#fb-toolbox .fb-xvc { text-align: center }
#fb-toolbox .fb-xvc .xforms-trigger { margin-right: .5em }

/* Language choice */
#fb-toolbox .fb-language-choice { text-align: left }
#fb-toolbox .fb-language-choice .xforms-select1 { width: 100% }
#fb-toolbox .fb-language-choice .xforms-label { display: block; margin-bottom: 3px }

/* Services and actions */
#fb-toolbox ul { margin: 0; overflow: auto }
#fb-toolbox li { list-style-type: none; white-space: nowrap; font-size: 11px }

#fb-toolbox span.xforms-trigger a { text-decoration: none }

#fb-toolbox .fb-metadata-settings select { width: 100% }

#fb-toolbox .xbl-fr-button { display: block; } /* Otherwise inline-block buttons don't take the full width of the toolbox */

.fb-toolbox-inside dt { text-align: center } /* Center text in sections title */

#fb-toolbox .xbl-fr-alert-dialog {display: none } /* Because w/ Chrome, a DIV of the dialog remains under the toolbox DIV and causes the toolbox to scroll */

/* ***** Dialogs **************************************************************************************************** */

/* Metadata editor dialog */
#fb-editor-metadata-dialog { width: 30em; }
#fb-editor-metadata-dialog img { float: left; margin: 1em 2em 0 1em; }
#fb-editor-metadata-dialog .xforms-label { display: block; }
#fb-editor-metadata-dialog .xforms-hint { width: 25em; margin-bottom: 1em; }
#fb-editor-metadata-dialog .xforms-alert { width: 25em; }
#fb-editor-metadata-dialog .fb-editor-metadata-dialog-fields { float: left; width: 20em }
#fb-editor-metadata-dialog .fb-editor-metadata-dialog-buttons { margin-top: 1em; }
/* Itemset editor dialog */
/* Using a class instead of an id since the id is simply 'dialog' as it is declared in a component */
.fb-itemset-editor-dialog { width: 35em }
.fb-itemset-editor-dialog .fr-grid-2-columns .xforms-input input { width: 13em }
.fb-itemset-editor-dialog .xbl-fr-link-select1 { margin-bottom: .5em; float: right }
.fb-itemset-editor-dialog .xbl-fr-link-select1 .xforms-label { display: none }
.fb-itemset-editor-dialog .yui-dt { clear: both } /* help IE 6/7 */

/* Submission editor dialog */
#fb-service-dialog { width: 45em }
.fb-service-dialog-error { border: 2px solid red; padding: .25em }
.fb-service-dialog-error select { border: none }
.fb-service-dialog-success { border: 2px solid green; padding: .25em }
.fb-submission-response { display: block; height: 200px; overflow-y: auto }
.fb-submission-response textarea { height: 10em }

/* Bindings editor dialog */
#fb-action-dialog { width: 45em }
#fb-action-dialog .xforms-select1 { width: auto }
#fb-action-dialog .fr-repeat-table .fb-parameters .xforms-label { display: block }
#fb-action-dialog .fr-repeat-table .fb-parameters .xforms-hint { display: block }
#fb-action-dialog .fr-repeat-table .fb-parameters .xforms-disabled { display: none }
#fb-action-dialog .fr-repeat-table th { white-space: nowrap }

#fb-database-service-dialog { width: 45em }
#fb-database-service-dialog textarea { height: 10em; font-family: monospace }

/* Help dialog */
#fb-edit-help-dialog { width: 40em }
#fb-edit-help-dialog textarea { width: 98%; height: 12em }

/* Other dialogs */
.xforms-dialog .bd { padding-left: .5em; padding-right: .5em }
.xforms-dialog .xforms-label img { vertical-align: middle }

#fb-css-upload-dialog, #fb-schema-upload-dialog { width: 35em }

#fb-edit-details-dialog,
    #fb-section-details-dialog,
    #fb-add-language-dialog { width: 20em }
#fb-edit-validation-dialog { width: 30em }
#fb-edit-details-dialog .xforms-input input { width: 98% }
#fb-section-details-dialog .xforms-input input { width: 98% }

#fb-edit-validation-dialog textarea { width: 98%; height: 4em }
#fb-edit-validation-dialog .xforms-label { display: block; clear: both }
#fb-edit-validation-dialog .xforms-hint { display: block; clear: both }
#fb-edit-validation-dialog .xforms-disabled { display: none }

#fb-schema-upload-dialog .xforms-hint { width: 100% }
#fb-schema-upload-dialog .xforms-select1 { height: 10em; width: 100% }
#fb-schema-upload-dialog .fb-dialog-h2 { font-size: larger; display: block; padding-top: .3em; padding-bottom: .3em }
#fb-schema-upload-dialog .fb-dialog-section { display: block; margin-left: 1em }

#fb-xml-dialog .fb-xml-dialog-view { width: 100%; height: 29em; overflow: auto; background-color: white }

/* TODO: change this to properly dynamically size dialog */
#fb-source-editor-dialog, #fb-xml-dialog { width: 70em }
#fb-source-editor-dialog .CodeMirror { height: 50em }
#fb-source-editor-dialog .xforms-alert-active { display: block }

#fb-source-editor-dialog .fb-xml-dialog-view { width: 100% }
#fb-source-editor-dialog .fb-xml-dialog-view textarea.xforms-textarea { width: 100%; height: 29em; font-family: monospace }

/* Publish dialog */
#fb-publish-dialog { width: 35em }
.fb-publish-message {
    background-color: white;
    border: 1px solid #DDDDDD;
    display: block;
    padding: .5em;
}

/* Test dialog */
.fb-test-dialog .fb-test-iframe { width: 100%; border: 1px solid #666; }
.fb-test-dialog .xforms-trigger button { float: right; width: 9.5em }

/* PE dialog */
/* NOTE: This should not be needed because alert dialog should not use label for message content */
.xbl-fr-alert-dialog-message .xforms-label { font-weight: normal }

/* ***** In-Place Editing ******************************************************************************************* */

/* Title and description */
.fb-title-control, .fb-description-control { width: 49% }
.fb-title-control .xbl-fr-inplace-input, .fb-description-control .xbl-fr-inplace-input { display: block }
.fb-title-control input, .fb-description-control input { width: 100% }

/* In-place editing for regular fields */
.fr-inplace-buttons { display: block; margin-top: .3em; margin-bottom: .5em }
.fr-grid .fr-grid-content .fr-inplace-buttons button.xforms-trigger { margin-top: 0 } /* because another rule puts a margin to position buttons further down in the grid */
.fr-inplace-input input {
    border: 1px inset rgb(233, 233, 174); padding: 0; background-color: #FFFF88; background-image: none; width: 100%
}

.fr-inplace-textarea textarea.xforms-textarea {
    border: 1px inset rgb(233, 233, 174); padding: 0; background-color: #FFFF88; background-image: none
}

.fr-inplace-buttons .xforms-control { display: inline }

/* Highlighting of in-place outputs depending on hovering */
.fr-inplace-content .xforms-output:hover { background-color: #FFFF88 }
#fb-details-group .fb-top-level-content:hover .fr-section-title .fr-inplace-content .xforms-output { background-color: #FFFFDD; color: #004B92 }
#fb-details-group .fb-top-level-content:hover .fr-section-title .fr-inplace-content .xforms-output:hover { background-color: #FFFF88; color: #004B92 }

/* In-place editing for metadata section */
#fb-metadata-group .fr-inplace-input .xforms-input input { width: 100% }
#fb-metadata-group .fr-inplace-textarea textarea.xforms-textarea { width: 100% }


/* In-place editing for section titles */
.fr-section-title .fr-inplace-content .xforms-output { color: #004B92 }
#fb-details-group .fr-section-title { display: block }

/* Only show buttons when in edit mode or when hovering over the title */
#fb-details-group .fr-section-title .fr-section-buttons { display: none }
#fb-details-group .fr-section-title:hover .fr-section-buttons { display: inline-block }

/* Make section title open/close button, title text, and title icons top aligned */
#fb-details-group .fr-section-title .xforms-switch { vertical-align: top }

#fb-details-group .fr-section-title .fr-section-buttons {
    margin-left: .5em;
    margin-right: .5em;
    background-color: lightyellow;
    border: 1px solid yellow;
    vertical-align: top;
}
#fb-details-group .fr-section-title .fr-inplace-buttons img { vertical-align: baseline }
#fb-details-group .fr-section-title .fr-inplace-buttons button { vertical-align: middle }
#fb-details-group .fr-section-title .fr-inplace-content { vertical-align: middle; font-size: 100% }
#fb-details-group .fr-section-title .fr-inplace-content .xforms-label { display: none }
#fb-details-group .fr-section-title .xforms-input input { width: 37em }/* try to make editable title as wide as possible */

/* Make section title alert look nicer */
#fb-details-group .fr-section-title .xforms-alert-active { font-size: 10px }

/* ***** Misc ******************************************************************************************************* */

/* Give height to footer so it shows up even if empty */
.fr-footer div { height: 1em }

.fb-title-control .xforms-label { display: none }
.fb-title-control .fr-inplace-content .xforms-output { color: white; font-size: 197% }
.fb-title-control:hover .fr-inplace-content .xforms-output { color: #004B92 }
.fb-title-control .fr-inplace-content .xforms-input input { color: #004B92; font-size: 197% }
.fb-title-control .fr-inplace-buttons .xforms-trigger-appearance-minimal { color: white }

.fb-description-control .xforms-label { display: none }
.fb-description-control .fr-inplace-content .xforms-output { color: white }
.fb-description-control:hover .fr-inplace-content .xforms-output { color: #004B92 }
.fb-description-control .fr-inplace-content .xforms-textarea { color: #6E6E6E; text-align: right }

/* Highlighting of top-level blocks (sections, ...) */
.fb-top-level-content { padding-left: .5em; margin-bottom: .5em; border-left: 0 solid transparent }
.fb-top-level-content:hover { border-left: 0 solid #ccc }
.fr-section-container .xforms-repeat-selected-item-1 { border-left: 0 solid #004B92}

/* Highlighting of section content (grids, ...) */
.fb-section-content { display: block; padding-left: .5em; margin-bottom: .5em; border-left: 0 solid transparent }
.fb-section-content:hover { border-left: 0 solid #ccc}
.fr-section-container .xforms-repeat-selected-item-2 { border-left: 0 solid #004B92}

/* Control editor */
.fb-control-label .xforms-label { display: none }
.fb-control-label .fr-inplace-content {
    display: inline;
    margin-bottom: .2em;
}

.fb-control-label .fr-inplace-edit .xforms-alert { display: none }

a.xforms-help-image .fb-control-help { vertical-align: baseline; }

/* Would be nice to make text gray when only a hint */
/*.fb-control-label .fr-inplace-content { color: gray }*/

.fb-control-hint .fr-inplace-content {
    font-size: smaller;
    font-style: italic;
    display: block;
    margin-top: .2em;
    color: gray
}

.fr-logo .xforms-upload-mediatype, .fr-logo .xforms-upload-size, .fr-logo .xforms-upload-filename { display: none }
.fr-logo .xforms-upload-info { background-image: none; padding-left: 0 }
.fr-logo .xforms-upload-remove { padding-left: 0 }

/* ***** Grid ******************************************************************************************************* */
.fb-cell-editor { display: none } /* Contains the editing markup that will be moved inside each grid td */

.xbl-fr-grid table.fr-grid.fr-editable {
    border-collapse: collapse;              /* override default in form-runner-base.css */
    width: 99.9%                            /* attempt to fix missing right border under Chrome */
}

.fr-grid-td {
    border: 1px solid transparent;
    position: relative;                     /* So FB icons inside the grid td can use absolute positioning relative to the td */
}
.fr-editable .fr-grid-tr { height: 58px } /* enough space to hold row icons so that hovering doesn't cause the row to expand */
.fr-grid.fr-norepeat:hover .fr-grid-td { border: 1px solid #ccc} /* Only for grid which is not a repeat, e.g. no highlighting in itemset editor */

.fb-grid-cell-icons, .fb-grid-control-icons, .fb-grid-row-icons { display: block; width: 16px; min-height: 4em; height: auto !important; height: 4em; text-align: center }/* IE HACK for min-height */

/* Grid icons and hovering */
.fb-grid-top-left-td { text-align: center; width: 24px }
.fr-grid .fb-grid-top-left-td img { display: none }
.fr-grid:hover .fb-grid-top-left-td img { display: inline }

/* Row icons and hovering */
.fr-grid.fr-editable .fr-grid-tr .fb-grid-row-icons img { display: none }
.fr-grid.fr-editable .fr-grid-tr:hover .fb-grid-row-icons img { display: inline }

/* Delete, expand, shrink shown to the left of the cell */
.fb-grid-cell-icons { position: absolute; left: .5em; top: .5em}
.fb-grid-cell-icons img { margin-bottom: 0; padding: 0 }
.fr-grid .fr-grid-td .fb-grid-cell-icons img { display: inline }
/* Control details and validation shown to the top right of the cell */
.fb-grid-control-icons { position: absolute; right: .5em; top: .5em }
.fb-grid-control-icons img { margin-bottom: 0; padding: 0 }
/* Optional link to itemset editor shown to the bottom of the cell */
/* Position to the left (2.5em) matched left margin of the fr-grid-content */
.fb-edit-items { text-decoration: none; display: block; clear: both; position: absolute; left: 2.5em; bottom: .5em }
/*  Show upload UI at the bottom of the cell and remove file upload indicator */
.fb-static-upload { position: absolute; left: 2.5em; bottom: .5em }
/* Simply styling for file select to just show "x" */
#fr-form-group .fb-static-upload { background-color: none }
#fr-form-group .fb-static-upload .xforms-upload-info { padding: 0 }
#fr-form-group .fb-static-upload .xforms-upload-size { padding: 0 }
#fr-form-group .fb-static-upload .xforms-upload-remove { padding: 0 }

.fr-grid .fr-grid-td .fb-grid-control-icons img { display: inline }
.fb-label-hint-placeholder { color: #bbb }

/* Column icons */
.fb-grid-column-toolbar-td {
    text-align: center;
    padding-bottom: 2px;    /* padding so that the icon doesn't touch the table border */
    height: 22px;           /* tall enough so that FF doesn't do funny things when the icons are shown upon hover */
}
.fb-grid-column-toolbar-td .fb-insert-left { float: left }
.fb-grid-column-toolbar-td .fb-insert-right { float: right }
.fb-grid-column-toolbar-td a { display: none }
.fr-grid:hover .fb-grid-column-toolbar-td a { display: block }

/* Selected cell */
.fb-selected {
    background: url("../images/light-blue-gradient.png") repeat-x  #E8F2FF;
}

/* Grid content */
/* Margin leaves space for the icons to the left and right of the control */
.fr-grid-content { margin-left: 2.5em; margin-right: 2.5em }
/* Margin leaves space for trigger showing the itemset editor */
.fr-grid-content.fb-itemset { margin-bottom: 2.5em }
/* Margin leaves space for file upload  */
.fr-grid-content.fb-upload { margin-bottom: 2.5em }
.fr-grid-content .xforms-label:hover, .fr-grid-content .xforms-hint:hover { background-color: #ffffd3 }
/* Inputs for editing the label and hint to take the whole width of the grid content */
.fr-grid-content .xforms-label input, .fr-grid-content .xforms-hint input { width: 100% }
/* Even if the label or hint is empty, we still want space for 1 line to  be reserved. */
.fr-grid-content .xforms-label, .fr-grid-content .xforms-hint { min-height: 1.321em }
/* Show disabled hints, which are hints that don't contain any text, as we want them to show since use them as placeholders.
   Use an id to override the #fr-view .xforms-disabled { display: none } in form-runner-base.css.
   The position: static overrides the position: absolute; top: -10000px; left: -10000px in xforms.css. */
#fr-view .xbl-fr-grid .xforms-hint.xforms-disabled { display: block; position: static }

.fb-use-toolbar-message, .fb-click-message { display: none; font-size: 70%; color: gray; width: 100%; font-style: italic; text-align: center; margin-top: 2em  }
.fb-selected .fb-use-toolbar-message { display: block }
td:hover .fb-click-message { display: block }
td.fb-selected:hover .fb-click-message { display: none }

.fb-component-icon { display: block }

/* Read-only components */
.fb-section-component .fr-grid-td { background-image: none; background-color: #F8F8F8; border: solid 1px #F8F8F8 }
.xforms-readonly .xforms-input-input { background-image: none; background-color: #CCCCCC }
.xforms-readonly textarea { background-image: none; background-color: #CCCCCC }

.fr-buttons-placeholder .xforms-output { color: gray }

/* ***** Accordion Menu ********************************************************************************************* */

dl.accordion-menu { margin: 0; padding: 0; width: 100% }
dl.accordion-menu dt.a-m-t {
    margin: 0;
    padding: 0.3em 1em;
    background: url("../../../../ops/yui/assets/skins/sam/sprite.png") repeat-x scroll left -1400px;
    color: #EEE;
    font-weight: bold;
}

dl.accordion-menu dt.a-m-t-hover {
    /*background: url("../../../../ops/yui/assets/skins/sam/sprite.png") repeat-x scroll left -1300px;*/
    color: #FFFF88;
}

html.accordion-menu-js dt.a-m-t-expand {}

dl.accordion-menu dd.a-m-d .bd {
	border: solid 1px gray;
    border-top-width: 0;
    border-left-color: #CCCCCC
}

dl.accordion-menu dt.a-m-t { border-right: none; border-left: none }
dl.accordion-menu dd.a-m-d .bd { border-right: none; border-left: none }

html.accordion-menu-js dt.a-m-t{
	cursor: pointer;
	zoom: 1;
}

dl.accordion-menu dd.a-m-d { margin: 0; padding: 0 }
html.accordion-menu-js dd.a-m-d { display: none }
html.accordion-menu-js dd.a-m-d-expand { display: block }

html.accordion-menu-js dd.a-m-d-before-expand {
	display: block;
	position: relative;
	z-index: -1;
	opacity: 0;
	height: auto !important;
	visibility: hidden;
	overflow: visible;
}

html.accordion-menu-js dd.a-m-d-anim {
	overflow: hidden;
	display: block;
}

/* ***** Message **************************************************************************************************** */

.fb-top .fr-messages {
    display: inline;
    background: inherit;
    border: none;
    margin: 0;
    padding: 0;
    clear: none; /* override "both" so that IE 7 support for inline-block works */
}

.fb-top .fr-messages .fr-message {
    display: -moz-inline-box;
    display: inline-block;
    *zoom: 1; /* IE 7 hack */
    margin:0.35em 0 0 2em;
    padding: .2em;
    color: white;
    border-color: white;
    border-radius: 3px; -moz-border-radius: 3px; -webkit-border-radius: 3px; -ms-border-radius: 3px
}

.fb-top .fr-messages .fr-message-validation-error {
    background-color: #DF731B;
}

.fb-top .fr-messages .fr-message-fatal-error {
    background-color: red;
}

.fb-top .fr-messages .fr-message-success {
    background-color: green;
}

/* ***** YUI Layout ************************************************************************************************* */

#fr-view { margin-left: 0 }
.yui-layout-unit-left { background-color: white }
.yui-layout-unit-top .yui-layout-hd, .yui-layout-unit-bottom .yui-layout-hd, .yui-layout-unit-left .yui-layout-hd  { display: none }

.fr-bottom, .fb-bottom { padding: .8em }

#fb-layout .yui-layout-bd { border: none }
#fb-layout .yui-layout-unit-top .yui-layout-bd    { border-bottom: 2px solid #004B92; background-color: #E8F2FF } /* Top section */
#fb-layout .yui-layout-unit-top .fr-logo          { padding: 0 0 0 1em }
#fb-layout .yui-layout-unit-left .yui-layout-bd   { border-right: 2px solid #ccc; background-color: #E8F2FF }
#fb-layout .yui-layout-unit-bottom .yui-layout-bd { border-top: 2px solid #004B92; background-color: #E8F2FF }
#top1 { padding: 0.4em .5em 0 .5em }

/* Always show vertical scrollbar so that there is no reflow of the left panel when it becomes shorter/taller */
.yui-layout .yui-layout-unit-left div.yui-layout-bd {
    overflow-y: scroll;
}

/* ***** Other media ************************************************************************************************ */

/* This is also used for PDF generation */
@media print {
    #doc, #doc2, #doc3, #doc4 { margin-left: auto; *margin-left: auto }
    input { height: 1em }
}
