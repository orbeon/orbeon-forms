@import (reference) "form-runner-common";

.orbeon {

  body& {
    color: var(--orbeon-base-color); // Override Bootstrap's default
  }

  a {
    color: var(--orbeon-link-color);
  }

  a:hover,
  a:focus {
    color: var(--orbeon-link-hover-color);
  }

  a.btn-secondary,
  a.btn-secondary:hover,
  a.btn-secondary:focus {
    color: white;
  }

  // Hide caret for consistency with other pages
  .fr-user-nav .dropdown-toggle::after {
    display: none;
  }

  .dropdown .btn-secondary {
    background-color: transparent;
    border-color: transparent;

    &:focus {
      box-shadow: none;
    }

    &.show {
      background-color: var(--orbeon-navbar-dropdown-open-toggle-background-color);
    }
  }

  .fr-language-choice .dropdown .btn-secondary {
    color: var(--orbeon-navbar-language-dropdown-color);

    &:hover, &:focus {
      color: var(--orbeon-navbar-language-dropdown-hover-color);
    }
  }

  .dropdown-menu {
    background-color: var(--orbeon-dropdown-menu-background-color);
    border: 1px solid var(--orbeon-dropdown-menu-border-color);

    .btn {
      // Disable transitions in dropdown menus
      transition: none;
    }

    .btn-link {
      font-size: var(--orbeon-base-font-size);
      padding: 6px 12px;
      margin-bottom: 0;

      display: inline-block;
      text-decoration: none !important;
      text-align: left;
      white-space: nowrap;
      vertical-align: middle;
      -ms-touch-action: manipulation;
      touch-action: manipulation;
      cursor: pointer;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
      background-image: none;
      border: 1px solid transparent;
      color: var(--orbeon-dropdown-menu-color);
      background-color: var(--orbeon-dropdown-menu-background-color);
      width: 100%;
    }

    .btn-link:hover,
    .btn-link:focus,
    .dropdown-item:hover,
    .dropdown-item:focus,
    .dropdown-item:hover .btn-link,
    .dropdown-item:focus .btn-link {
      color: var(--orbeon-dropdown-menu-hover-color);
      background-color: var(--orbeon-dropdown-menu-hover-background-color);
      text-decoration: none;
    }

    .dropdown-item.active, .dropdown-item:active {
      color: unset;
      text-decoration: unset;
      background-color: var(--orbeon-dropdown-menu-selected-background-color);
    }

    .dropdown-item:hover .btn-link {
      background-color: var(--orbeon-dropdown-menu-hover-background-color);
    }

    .dropdown-item.disabled,
    .dropdown-item:disabled,
    .disabled .btn-link {
      color: var(--orbeon-dropdown-menu-disabled-color);
    }

    .dropdown-divider {
      border-top: 1px solid var(--orbeon-dropdown-menu-divider);
    }
  }

  .fr-summary-selection .dropdown-toggle {
    background-color: #f8f9fa;
    color: #000;
  }

  .fr-summary-selection .badge {
    background-color: #0d6efd;
  }

  .fr-summary-selection .dropdown-menu {
    min-width: 15rem;
  }

  // button link: show search options
  .fr-search-show-button .btn-link {
    border: 1px solid transparent;
    background-color: #F3F3F3;
    color: #0d6efd !important;
    text-decoration: underline !important;
  }

  // home button
  .xforms-trigger-appearance-full .btn {
    color: #000;
    background-color: #f8f9fa;
    border-color: #f8f9fa;
  }

  .xforms-trigger-appearance-full {
    .btn:hover, .btn:focus, .btn:active, .btn.active, .open > .dropdown-toggle.btn {
      background-color: #e6e6e6 !important;
      border-color: #0a58ca !important;
    }
  }

  // new button
  .fr-new-button .btn {
    color: #fff !important;
    background-color: #0d6efd !important;
    border-color: #0d6efd !important;
  }

  .fr-new-button {
    .btn:hover, .btn:focus, .btn:active, .btn.active, .open > .dropdown-toggle.btn {
      color: #fff !important;
      background-color: #0b5ed7 !important;
      border-color: #0a58ca !important;
    }
  }

  // Use `.btn-link` instead of `.xforms-trigger` to catch cases where used directly in an `<xf:button>`
  .btn-link .fa {
    color: var(--orbeon-base-color);
  }

  // Make disabled icons a bit opaque
  .disabled[class^="icon-"],
  .disabled [class^="icon-"],
  .xforms-trigger.xforms-readonly .fa,
  .fa.disabled {
    opacity: 0.4;
  }

  // Adapt pagination to use of xf:trigger
  .pagination li {
    & > .xforms-trigger {
      cursor: pointer
    }

    & > .xforms-trigger.xforms-readonly {
      cursor: auto;
    }

    .btn-link {
      text-decoration: none;
      background-color: #fff;
    }

    // NOTE: Updated for Bootstrap 5
    > .btn-link, > span {
      padding: 8px 12px;
      border: 1px solid #ddd;
      background-color: #fff;
    }

    // Reset rules that can be applied by external Bootstrap .pagination a rule
    span .btn-link {
      padding: 0;
      border: none;
      line-height: normal;
    }
  }

  .pagination .disabled {
    > span {
      &, & > button {
        background-color: transparent;
      }
    }
  }

  .navbar {
    background-color: var(--orbeon-navbar-background-color);

    .navbar-brand {
      padding: 0;
      font-size: 1em;
    }

    .container, .container-fluid {
      h1 {
        font-size: var(--orbeon-navbar-heading-font-size);
        font-weight: @frNavBarFontWeight;
      }
    }
  }

  // TODO: use common LESS section for both Bootstrap 2 and 5

  .alert-error, .alert-danger {
    color            : var(--orbeon-alert-error-color);
    background-color : var(--orbeon-alert-error-background-color);
    border-color     : var(--orbeon-alert-error-border-color);
  }

  .alert-success {
    color            : var(--orbeon-alert-success-color);
    background-color : var(--orbeon-alert-success-background-color);
    border-color     : var(--orbeon-alert-success-border-color);
  }

  .alert-warning {
    color            : var(--orbeon-alert-warning-color);
    background-color : var(--orbeon-alert-warning-background-color);
    border-color     : var(--orbeon-alert-warning-border-color);
  }
}