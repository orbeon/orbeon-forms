// Copyright (C) 2011 Orbeon, Inc.
//
// This program is free software; you can redistribute it and/or modify it under the terms of the
// GNU Lesser General Public License as published by the Free Software Foundation; either version
// 2.1 of the License, or (at your option) any later version.
//
// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;
// without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
// See the GNU Lesser General Public License for more details.
//
// The full text of the license is available at http://www.gnu.org/copyleft/lesser.html

@import (reference) "form-runner-common";

@spacing: 10px; // same as .fr-border

.orbeon {

    .fr-admin-top {
        display: flex;
        justify-content: space-between;
        flex-wrap: wrap;
        align-items: center;
        gap: @spacing;
        margin: 0 0 @spacing 0;
    }

    .xbl-fr-pager {
        .pagination {
            margin: 0;
            &> ul {
                display: block;
            }
        }
    }

    .btn-toolbar {
        display: inline-block;
        vertical-align: middle;
        margin: 0;
    }

    .fr-reindex-status {

        padding-left: 1em;
        padding-right: 1em;
        font-size: @baseFontSize; // Same size used by Bootstrap for the nearby buttons
        vertical-align: middle;

        .progress {
            display: inline-block;
            width: 200px;
            vertical-align: middle;
            margin: 0 0 0 1em;
        }
    }

    .fr-loading {
        @-webkit-keyframes opacity {
            0% { opacity: 1; }
            100% { opacity: 0; }
        }
        @-moz-keyframes opacity {
            0% { opacity: 1; }
            100% { opacity: 0; }
        }

        .xforms-output-output {
            display: inline-block;
            vertical-align: middle;
        }

        span {
            -webkit-animation-name: opacity;
            -webkit-animation-duration: 1s;
            -webkit-animation-iteration-count: infinite;

            -moz-animation-name: opacity;
            -moz-animation-duration: 1s;
            -moz-animation-iteration-count: infinite;
        }

        span:nth-child(1) {
            -webkit-animation-delay: 100ms;
            -moz-animation-delay: 100ms;
        }

        span:nth-child(2) {
            -webkit-animation-delay: 300ms;
            -moz-animation-delay: 300ms;
        }

        span:nth-child(3) {
            -webkit-animation-delay: 500ms;
            -moz-animation-delay: 500ms;
        }
    }

    .pagination {
        display: block;
        float: right;
        margin-top: 6px;
        margin-bottom: 6px;

        .fr-paging-numbers > span {
            min-width: 125px; // try to allow at least 3 times 3 digits so the size doesn't change too much when paging
            text-align: center;
        }
    }

    .row .alert, .row-fluid .alert  {
        display: block;
        margin: 0;
    }

    .fr-forms-table {

        clear: both;
        border-collapse: collapse;
        // Make the table stand out from background, as done on the summary page
        background-color: white;

        .fr-summary, .fr-new {
            text-align: center;
        }

        // We can't use .table-striped, as xf:repeat adds delimiters, so we do our own zebra-striping
        tbody tr:nth-child(4n+3) > td {
            background-color: @tableBackgroundAccent;
        }

        td, th {
            .xforms-output .xforms-output-output {
                white-space: nowrap;
            }
        }

        th {
            min-width: 12px;
        }

        td {
            position: relative;
            a {
                width: 100%;
                display: inline-block;
                height: 100%;
                vertical-align: middle;
                text-decoration: none;
                color: black;
                outline: 0;
            }
            a:hover {
                text-decoration: none;
                color: black;
            }
        }

        .fr-home-version {
            text-align: right;
        }

        .fr-home-select {
            .fr-plain-checkbox-container();
        }

        .fr-home-status {
            .narrow-td();
        }

        .fr-home-modified {
            .narrow-td();
            white-space: nowrap;
        }

        .label {
            display: inline-block;
            text-align: left;
            box-sizing: border-box;
            width: 100%;
        }
    }

    .fr-credentials-dialog {

        .fr-dialog-credentials-fields {
            margin-left: 110px;
        }

        img { float: left; margin: 5px 10px 0 10px }
    }
}
